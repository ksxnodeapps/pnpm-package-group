simple:
  description: Simplest form (nested)
  input:
    abc:
      - lorem
      - ipsum
    def:
      foo:
        - dolor
        - sit
        - amet
      bar:
        - consectetur
  output:
    - path: abc/
      data:
        - lorem
        - ipsum
    - path: def/foo/
      data:
        - dolor
        - sit
        - amet
    - path: def/bar/
      data:
        - consectetur
nested:
  description: Explicitly set __flat to false
  input:
    __flat: false
    abc:
      - lorem
      - ipsum
    def:
      foo:
        - dolor
        - sit
        - amet
      bar:
        - consectetur
  output:
    - path: abc/
      data:
        - lorem
        - ipsum
    - path: def/foo/
      data:
        - dolor
        - sit
        - amet
    - path: def/bar/
      data:
        - consectetur
flat:
  description: Explicitly set __flat to true
  input:
    __flat: true
    abc:
      - lorem
      - ipsum
    def:
      foo:
        - dolor
        - sit
        - amet
      bar:
        - consectetur
  output:
    - path: ''
      data:
        - lorem
        - ipsum
        - dolor
        - sit
        - amet
        - consectetur
mix:
  description: Mixing nested and flat together
  input:
    __flat: false
    abc:
      - lorem
      - ipsum
    def:
      __flat: true
      foo:
        - dolor
        - sit
        - amet
      bar:
        - consectetur
      baz:
        inherit:
          abc:
            - loremz
            - ipsumz
          def:
            foo:
              - dolorz
              - sitz
              - ametz
            bar:
              - consecteturz
        nested:
          __flat: false
          abc:
            - loremzz
            - ipsumzz
          def:
            foo:
              - dolorzz
              - sitzz
              - ametzz
            bar:
              - consecteturzz
        flat:
          __flat: true
          abc:
            - loremzzz
            - ipsumzzz
          def:
            foo:
              - dolorzzz
              - sitzzz
              - ametzzz
            bar:
              - consecteturzzz
  output:
    - path: abc/
      data:
        - lorem
        - ipsum
    - path: def/
      data:
        - dolor
        - sit
        - amet
        - consectetur
        - loremz
        - ipsumz
        - dolorz
        - sitz
        - ametz
        - consecteturz
    - path: def/baz/nested/abc/
      data:
        - loremzz
        - ipsumzz
    - path: def/baz/nested/def/foo/
      data:
        - dolorzz
        - sitzz
        - ametzz
    - path: def/baz/nested/def/bar/
      data:
        - consecteturzz
    - path: def/baz/flat/
      data:
        - loremzzz
        - ipsumzzz
        - dolorzzz
        - sitzzz
        - ametzzz
        - consecteturzzz
noisy:
  description: Ignore names begin with '_'
  input:
    __noise: 123
    _noise: 456
    abc:
      - lorem
      - ipsum
    def:
      foo:
        - dolor
        - sit
        - amet
      bar:
        - consectetur
  output:
    - path: abc/
      data:
        - lorem
        - ipsum
    - path: def/foo/
      data:
        - dolor
        - sit
        - amet
    - path: def/bar/
      data:
        - consectetur
invalid-root:
  description: Throw error if root is not an object
  input: Wow, a string
  output:
    err-name: TypeError
    err-msg: Invalid type of tree
invalid-branch:
  description: Throw error if a branch is not an object
  input:
    valid:
      - lorem
      - ipsum
    invalid: >-
      This is a string, not an object
  output:
    err-name: TypeError
    err-msg: Invalid type of tree
